function initMap(){var e=[{featureType:"all",elementType:"labels.text.fill",stylers:[{color:"#ffffff"}]},{featureType:"all",elementType:"labels.text.stroke",stylers:[{color:"#000000"},{lightness:13}]},{featureType:"administrative",elementType:"geometry.fill",stylers:[{color:"#000000"}]},{featureType:"administrative",elementType:"geometry.stroke",stylers:[{color:"#144b53"},{lightness:14},{weight:1.4}]},{featureType:"landscape",elementType:"all",stylers:[{color:"#08304b"}]},{featureType:"poi",elementType:"geometry",stylers:[{color:"#0c4152"},{lightness:5}]},{featureType:"road.highway",elementType:"geometry.fill",stylers:[{color:"#000000"}]},{featureType:"road.highway",elementType:"geometry.stroke",stylers:[{color:"#0b434f"},{lightness:25}]},{featureType:"road.arterial",elementType:"geometry.fill",stylers:[{color:"#000000"}]},{featureType:"road.arterial",elementType:"geometry.stroke",stylers:[{color:"#0b3d51"},{lightness:16}]},{featureType:"road.local",elementType:"geometry",stylers:[{color:"#000000"}]},{featureType:"transit",elementType:"all",stylers:[{color:"#146474"}]},{featureType:"water",elementType:"all",stylers:[{color:"#021019"}]}];map=new google.maps.Map(document.getElementById("map"),{center:{lat:32.482361,lng:-96.9944489},zoom:13,mapTypeControl:!0,styles:e}),ko.applyBindings(new ViewModel)}function populateInfoWindow(e,t){if(t.marker!=e){t.marker=e;var o='<div id="iw-container"><div class="iw-title">';e.title&&(o+=e.title+"</div>"),e.address1&&(o+="<br>"+e.address1),e.address2&&(o+="<br>"+e.address2),e.phone&&(o+="<br><strong>"+e.phone+"</strong>"),e.url&&(o+="<br>Site: "+e.url),e.checkins&&(o+="<hr><strong>FourSquare Checkins: </strong>"+e.checkins),o+="</div>",t.setContent(o),t.open(map,e),t.addListener("closeclick",function(){t.setMarker=null})}}function setDelay(e){setTimeout(function(){e.setAnimation(null)},1400)}function mapLoadError(){window.alert("Google maps failed to load. Please check your connection or try again later.")}var map,midlo={lat:32.482361,lng:-96.9944489},fsClient_ID="1F5ZQMD1CLQPF4Q1M0MCR1E2DI5SD1PDLZNG2WYNA3PHQMY4",fsClient_Secret="DKCV4XJIO3O1ENQGIRCMTH3RRR4140FFGRNUC2H3RFETWZQ4",fsURL="https://api.foursquare.com/v2/venues/search?ll="+midlo.lat.toString()+","+midlo.lng.toString()+"&radius=1000&client_id="+fsClient_ID+"&client_secret="+fsClient_Secret+"&limit=35&categoryId=4d4b7104d754a06370d81259,4d4b7105d754a06374d81259&v=20170723",locations=[],ViewModel=function(){var e=this,t=new google.maps.LatLngBounds;this.myInfoWindow=new google.maps.InfoWindow({maxWidth:250}),this.locList=ko.observableArray(locations),this.markers=ko.observableArray([]),this.selectLoc=ko.observable(""),this.createMarkers=function(){this.locList().forEach(function(t){var o=new google.maps.Marker({position:t.location,title:t.title,phone:t.phone,address1:t.address1,address2:t.address2,url:t.url,checkins:t.checkins,animation:google.maps.Animation.DROP});o.addListener("click",function(){this.setAnimation(google.maps.Animation.BOUNCE),setDelay(this),populateInfoWindow(this,e.myInfoWindow),map.panTo(this.getPosition())}),e.markers.push(o),t.marker=o})},this.placeMarkers=function(){e.createMarkers();for(var o=0;o<e.markers().length;o++)e.markers()[o].setMap(map),t.extend(e.markers()[o].position);map.fitBounds(t)},this.showMarkers=function(){for(var t=0;t<e.markers().length;t++)e.markers()[t].setVisible(!0)},this.hideMarkers=function(){for(var t=0;t<e.markers().length;t++)e.markers()[t].setVisible(!1)},this.getLocations=function(t){$.getJSON(t,function(t){for(var o=t.response.venues,r=0;r<o.length;r++){var s={};s.title=o[r].name,s.url=o[r].url,s.address1=o[r].location.formattedAddress[0],s.address2=o[r].location.formattedAddress[1],s.checkins=o[r].stats.checkinsCount,s.phone=o[r].contact.formattedPhone,s.lat=o[r].location.lat,s.lng=o[r].location.lng,s.location={lat:o[r].location.lat,lng:o[r].location.lng},locations.push(s)}e.placeMarkers()}).fail(function(e){window.alert("There was an error loading the locations from Foursquare. Error message: "+e.responseText)})}(fsURL),this.filteredItems=ko.computed(function(){var t=e.selectLoc().toLowerCase();return t?ko.utils.arrayFilter(e.locList(),function(e){var o=e.title.toLowerCase().indexOf(t)>-1;return e.marker.setVisible(o),o}):(e.showMarkers(),e.locList())}),this.listActivateMarker=function(t){t.marker.setAnimation(google.maps.Animation.BOUNCE),setDelay(t.marker),populateInfoWindow(t.marker,e.myInfoWindow)},google.maps.event.addDomListener(window,"resize",function(){map.fitBounds(t)})};$(".hamburger").click(function(){$("#select-box").toggle("slide")}),$(window).resize(function(){var e=$(window).width();e>992&&$("#select-box").is(":hidden")&&$("#select-box").removeAttr("style"),e<992&&$("#select-box").is(":visible")&&$("#select-box").hide()});